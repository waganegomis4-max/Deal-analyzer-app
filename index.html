<!-- ===================== -->
<!-- OUTPUTS TAB -->
<!-- ===================== -->

<div class="card">
  <h2>Outputs</h2>

  <label>Select Profile</label>
  <select id="outputProfile" onchange="updateOutputProfile()">
    <option value="investor">Investor</option>
    <option value="lender">Lender</option>
    <option value="operator">Operator</option>
    <option value="jv">JV Partner</option>
  </select>
</div>

<!-- Accordion Section -->
<div class="card accordion">

  <button class="accordion-btn" onclick="toggleAccordion(this)">
    Email Preview
  </button>
  <div class="accordion-content" id="section-email">
    <p><em>Email content will appear here.</em></p>
    <button class="primary">Copy Email</button>
  </div>

  <button class="accordion-btn" onclick="toggleAccordion(this)">
    Deal Snapshot
  </button>
  <div class="accordion-content" id="section-deal">
    <p><em>Deal summary will appear here.</em></p>
  </div>

  <button class="accordion-btn" onclick="toggleAccordion(this)">
    Capital Stack
  </button>
  <div class="accordion-content" id="section-capital">
    <p><em>Capital stack details.</em></p>
  </div>

  <button class="accordion-btn" onclick="toggleAccordion(this)">
    Use of Funds
  </button>
  <div class="accordion-content" id="section-uses">
    <p><em>Use of funds breakdown.</em></p>
  </div>

  <button class="accordion-btn" onclick="toggleAccordion(this)">
    Returns & Waterfall
  </button>
  <div class="accordion-content" id="section-returns">
    <p><em>Returns and profit distribution.</em></p>
  </div>

  <button class="accordion-btn" onclick="toggleAccordion(this)">
    Risk & Exit
  </button>
  <div class="accordion-content" id="section-risk">
    <p><em>Risk mitigation and exit strategy.</em></p>
  </div>

  <!-- JV ONLY -->
  <button class="accordion-btn jv-only" onclick="toggleAccordion(this)">
    Buyer Relationship & Deal Flow
  </button>
  <div class="accordion-content jv-only" id="section-jv">
    <p><em>JV / Wholesale logic will appear here.</em></p>
  </div>

</div>

<style>
.accordion-btn {
  width: 100%;
  text-align: left;
  padding: 12px;
  border: none;
  background: #f2f4f7;
  font-weight: 600;
  border-radius: 8px;
  margin-bottom: 6px;
  cursor: pointer;
}

.accordion-content {
  display: none;
  padding: 10px 0 16px 0;
}

.accordion-content.active {
  display: block;
}

.jv-only {
  display: none;
}
</style>

<script>
function toggleAccordion(btn) {
  const content = btn.nextElementSibling;
  content.classList.toggle("active");
}

function updateOutputProfile() {
  const profile = document.getElementById("outputProfile").value;
  document.querySelectorAll(".jv-only").forEach(el => {
    el.style.display = (profile === "jv") ? "block" : "none";
  });
}
</script>